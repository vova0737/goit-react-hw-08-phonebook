{"version":3,"sources":["redux/auth/auth-selectors.js","Components/UserMenu/UserMenu.module.css","redux/auth/auth-operations.js","redux/auth/auth-actions.js","Components/Container/Container.js","Components/Container/Container.module.css","redux/phonebook/phonebook-actions.js","Components/Navigation.js","Components/UserMenu/default-avatar.png","Components/UserMenu/UserMenu.js","Components/AuthNav.js","Components/AppBar.js","Components/PrivateRoute.js","Components/PublicRoute.js","App.js","redux/phonebook/phonebook-reducer.js","redux/auth/auth-reducer.js","redux/store.js","index.js"],"names":["authSelectors","getIsAuthenticated","state","auth","isAuthenticated","getUsername","user","name","getError","error","getToken","token","getLoading","loading","module","exports","axios","defaults","baseURL","headers","common","Authorization","authOperations","register","credential","dispatch","a","authActions","registerRequest","post","response","data","registerSuccess","registerError","message","logIn","loginRequest","loginSuccess","loginError","logOut","logoutRequest","logoutSuccess","logoutError","getCurrentUser","getState","persistedToken","getCurrentUserRequest","get","getCurrentUserSuccess","getCurrentUserError","createAction","Container","children","className","styles","container","fetchContactRequest","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","clearError","connect","to","exact","activeClassName","mapDispatchToProps","onLogout","avatar","defaultAvatar","src","alt","width","button","type","onClick","AuthNav","header","display","justifyContent","alignItems","style","Component","component","redirectTo","routeProps","render","props","restricted","HomeView","lazy","RegisterView","LoginView","PhonebookView","App","this","onGetCurrentUser","fallback","path","initialState","contacts","createReducer","_","payload","filter","id","combineReducers","initialUserState","email","setError","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","phoneBook","phoneBookReducer","devTools","process","persistor","persistStore","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.27bfabd8.chunk.js","sourcesContent":["const getIsAuthenticated = state => state.auth.isAuthenticated;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\n\r\nconst getError = state => state.auth.error;\r\n\r\nconst getToken = state => state.auth.token;\r\n\r\nconst getLoading = state => state.auth.loading;\r\n\r\nconst authSelectors = {\r\n  getIsAuthenticated,\r\n  getUsername,\r\n  getError,\r\n  getToken,\r\n  getLoading,\r\n};\r\n\r\nexport default authSelectors;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__2_utk\",\"avatar\":\"UserMenu_avatar__3ZD6e\",\"name\":\"UserMenu_name__2Lkxh\",\"button\":\"UserMenu_button__cQ1J1\"};","import axios from 'axios';\r\nimport authActions from './auth-actions';\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = credential => async dispatch => {\r\n  dispatch(authActions.registerRequest());\r\n\r\n  try {\r\n    const response = await axios.post('/users/signup', credential);\r\n\r\n    token.set(response.data.token);\r\n    dispatch(authActions.registerSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.registerError(error.message));\r\n  }\r\n};\r\n\r\nconst logIn = credential => async dispatch => {\r\n  dispatch(authActions.loginRequest());\r\n\r\n  try {\r\n    const response = await axios.post('/users/login', credential);\r\n\r\n    token.set(response.data.token);\r\n    dispatch(authActions.loginSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.loginError(error.message));\r\n  }\r\n};\r\n\r\nconst logOut = () => async dispatch => {\r\n  dispatch(authActions.logoutRequest());\r\n\r\n  try {\r\n    await axios.post('/users/logout');\r\n\r\n    token.unset();\r\n    dispatch(authActions.logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(authActions.logoutError(error.message));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n\r\n  dispatch(authActions.getCurrentUserRequest());\r\n\r\n  try {\r\n    const response = await axios.get('/users/current');\r\n\r\n    dispatch(authActions.getCurrentUserSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.getCurrentUserError(error.message));\r\n  }\r\n};\r\n\r\nconst authOperations = {\r\n  register,\r\n  logIn,\r\n  logOut,\r\n  getCurrentUser,\r\n};\r\n\r\nexport default authOperations;\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\nconst authActions = {\r\n  registerSuccess,\r\n  registerRequest,\r\n  registerError,\r\n  loginSuccess,\r\n  loginRequest,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};\r\n\r\nexport default authActions;\r\n","import React from 'react';\nimport styles from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3tJKc\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactRequest = createAction('contacts/fetchContactRequest');\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\nexport const fetchContactError = createAction('contacts/fetchContactError');\n\nexport const addContactRequest = createAction('contacts/addContactRequest');\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\nexport const addContactError = createAction('contacts/addContactError');\n\nexport const deleteContactRequest = createAction('contacts/deleteContactRequest');\nexport const deleteContactSuccess = createAction('contacts/deleteContactSuccess');\nexport const deleteContactError = createAction('contacts/deleteContactError');\n\nexport const changeFilter = createAction('contacts/changeFilter');\n\nexport const clearError = createAction('contacts/clearError');\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\nconst Navigation = ({ isAuthenticated }) => (\r\n  <nav className=\"nav\">\r\n    {!isAuthenticated && (\r\n      <NavLink\r\n        to=\"/\"\r\n        exact\r\n        className=\"NavLink\"\r\n        activeClassName=\"NavLink--active\"\r\n      >\r\n        Home\r\n      </NavLink>\r\n    )}\r\n\r\n    {isAuthenticated && (\r\n      <NavLink\r\n        to=\"/contacts\"\r\n        exact\r\n        className=\"NavLink\"\r\n        activeClassName=\"NavLink--active\"\r\n      >\r\n        Phonebook\r\n      </NavLink>\r\n    )}\r\n  </nav>\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(Navigation);\r\n","export default __webpack_public_path__ + \"static/media/default-avatar.cc4b42e0.png\";","import React from 'react';\r\nimport styles from './UserMenu.module.css';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/auth-selectors';\r\nimport authOperations from '../../redux/auth/auth-operations';\r\nimport defaultAvatar from './default-avatar.png';\r\n\r\nconst UserMenu = ({ avatar, name, onLogout }) => (\r\n  <div className={styles.container}>\r\n    <img src={avatar} alt=\"\" width=\"36\" className={styles.avatar} />\r\n    <span className={styles.name}>Welcome, {name}</span>\r\n    <button className={styles.button} type=\"button\" onClick={onLogout}>\r\n      Logout\r\n    </button>\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  name: authSelectors.getUsername(state),\r\n  avatar: defaultAvatar,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogout: authOperations.logOut,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst AuthNav = () => (\r\n  <div>\r\n    <NavLink\r\n      to=\"/register\"\r\n      exact\r\n      className=\"NavLink\"\r\n      activeClassName=\"NavLink--active\"\r\n    >\r\n      Sign up\r\n    </NavLink>\r\n    <NavLink\r\n      to=\"/login\"\r\n      exact\r\n      className=\"NavLink\"\r\n      activeClassName=\"NavLink--active\"\r\n    >\r\n      Log in\r\n    </NavLink>\r\n  </div>\r\n);\r\n\r\nexport default AuthNav;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Navigation from './Navigation';\r\nimport UserMenu from './UserMenu/UserMenu';\r\nimport AuthNav from './AuthNav';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\nconst styles = {\r\n  header: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n};\r\n\r\nconst AppBar = ({ isAuthenticated }) => (\r\n  <header style={styles.header}>\r\n    <Navigation />\r\n    {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n  </header>\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(AppBar);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\n/**\r\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\r\n * - В противном случае рендерит Redirect на /login\r\n */\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\n/**\r\n * - Если маршрут ограниченный, и пользователь залогинен, рендерит редирект на /contacts\r\n * - В противном случае рендерит компонент\r\n */\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import React, { Component, Suspense, lazy } from 'react';\nimport { Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport AppBar from './Components/AppBar';\nimport Container from './Components/Container/Container';\nimport authOperations from './redux/auth/auth-operations';\nimport PrivateRoute from './Components/PrivateRoute';\nimport PublicRoute from './Components/PublicRoute';\n\nconst HomeView = lazy(() => import('./views/HomeView'));\nconst RegisterView = lazy(() => import('./views/RegisterView'));\nconst LoginView = lazy(() => import('./views/LoginView'));\nconst PhonebookView = lazy(() => import('./views/PhonebookView'));\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onGetCurrentUser();\n  }\n\n  render() {\n    return (\n      <Container>\n        <AppBar />\n        <Suspense fallback={<p>Loading...</p>}>\n          <Switch>\n            <PublicRoute exact path=\"/\" component={HomeView} />\n            <PublicRoute\n              path=\"/register\"\n              redirectTo=\"/contacts\"\n              restricted\n              component={RegisterView}\n            />\n            <PublicRoute\n              path=\"/login\"\n              redirectTo=\"/contacts\"\n              restricted\n              component={LoginView}\n            />\n            <PrivateRoute\n              path=\"/contacts\"\n              component={PhonebookView}\n              redirectTo=\"/login\"\n            />\n          </Switch>\n        </Suspense>\n      </Container>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  onGetCurrentUser: authOperations.getCurrentUser,\n};\n\nexport default connect(null, mapDispatchToProps)(App);\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport {\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  fetchContactRequest,\n  fetchContactSuccess,\n  fetchContactError,\n  changeFilter,\n  clearError,\n} from './phonebook-actions';\n\nconst initialState = {\n  contacts: [],\n  filter: '',\n  loading: false,\n  error: null,\n};\n\nconst contacts = createReducer(initialState.contacts, {\n  [fetchContactSuccess]: (_, { payload }) => payload,\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\n  [deleteContactSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst loading = createReducer(initialState.loading, {\n  [fetchContactRequest]: () => true,\n  [fetchContactSuccess]: () => false,\n  [fetchContactError]: () => false,\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst filter = createReducer('', {\n  [changeFilter]: (_, { payload }) => payload,\n});\n\nconst error = createReducer(initialState.error, {\n  [fetchContactError]: (_, { payload }) => payload,\n  [addContactError]: (_, { payload }) => payload,\n  [deleteContactError]: (_, { payload }) => payload,\n  [clearError]: () => null,\n});\n\nexport default combineReducers({\n  contacts,\n  filter,\n  loading,\n  error,\n});\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport authActions from './auth-actions';\r\n\r\nconst initialUserState = {\r\n  name: null,\r\n  email: null,\r\n};\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.logoutSuccess]: () => initialUserState,\r\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.logoutSuccess]: () => null,\r\n});\r\n\r\nconst setError = (_, { payload }) => payload;\r\n\r\nconst error = createReducer(null, {\r\n  [authActions.registerError]: setError,\r\n  [authActions.loginError]: setError,\r\n  [authActions.logoutError]: setError,\r\n  [authActions.getCurrentUserError]: setError,\r\n});\r\n\r\nconst isAuthenticated = createReducer(false, {\r\n  [authActions.registerSuccess]: () => true,\r\n  [authActions.loginSuccess]: () => true,\r\n  [authActions.getCurrentUserSuccess]: () => true,\r\n  [authActions.registerError]: () => false,\r\n  [authActions.loginError]: () => false,\r\n  [authActions.getCurrentUserError]: () => false,\r\n  [authActions.logoutSuccess]: () => false,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [authActions.registerSuccess]: () => false,\r\n  [authActions.registerRequest]: () => true,\r\n  [authActions.registerError]: () => false,\r\n  [authActions.loginSuccess]: () => false,\r\n  [authActions.loginRequest]: () => true,\r\n  [authActions.loginError]: () => false,\r\n  [authActions.logoutRequest]: () => true,\r\n  [authActions.logoutSuccess]: () => false,\r\n  [authActions.logoutError]: () => false,\r\n  [authActions.getCurrentUserRequest]: () => true,\r\n  [authActions.getCurrentUserSuccess]: () => false,\r\n  [authActions.getCurrentUserError]: () => false,\r\n  [authActions.clearError]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  isAuthenticated,\r\n  token,\r\n  error,\r\n  loading,\r\n});\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\n//import logger from 'redux-logger';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport phoneBookReducer from './phonebook/phonebook-reducer';\nimport authReducer from './auth/auth-reducer';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  // logger,\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nconst store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    phoneBook: phoneBookReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nconst persistor = persistStore(store);\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { store, persistor };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './App';\nimport store from './redux/store';\nimport './index.css';\nimport './views/Views.css';\n\nReactDOM.render(\n  <Provider store={store.store}>\n    <PersistGate loading={null} persistor={store.persistor}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}