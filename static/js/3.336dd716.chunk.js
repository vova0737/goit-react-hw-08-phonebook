(this["webpackJsonpgoit-react-hw"]=this["webpackJsonpgoit-react-hw"]||[]).push([[3],{85:function(t,e,n){t.exports={form:"ContactForm_form__H1Mc-",input:"ContactForm_input__1vg8z",btn:"ContactForm_btn__WnemU",container:"ContactForm_container__16gCI"}},86:function(t,e,n){t.exports={form:"Filter_form__2Mdlo",title:"Filter_title__XY3RO",input:"Filter_input__2QnmY"}},87:function(t,e,n){t.exports={list:"ContactList_list__3gCnD",contact:"ContactList_contact__3Ls88",name:"ContactList_name__2fasM",number:"ContactList_number__2HDuq",btn:"ContactList_btn__FVo5j"}},88:function(t,e,n){t.exports={Title:"Title_Title__2cyVW"}},92:function(t,e,n){"use strict";n.r(e);var a=n(35),c=n(36),r=n(38),o=n(37),s=n(0),i=n(9),u=n(47),l=n(1),b=n(85),f=n.n(b),m=n(17),j=n.n(m),h=n(23),p=n(19),d=n.n(p),O=n(7),g={fetchContacts:function(){return function(){var t=Object(h.a)(j.a.mark((function t(e){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(O.j)()),t.prev=1,t.next=4,d.a.get("/contacts");case 4:n=t.sent,a=n.data,e(Object(O.k)(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(O.i)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},addContact:function(t,e){return function(){var n=Object(h.a)(j.a.mark((function n(a){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c={name:t,number:e},a(Object(O.b)()),d.a.post("/contacts",c).then((function(t){var e=t.data;return a(Object(O.c)(e))})).catch((function(t){return a(Object(O.a)(t.message))}));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},deleteContact:function(t){return function(e){e(Object(O.g)()),d.a.delete("/contacts/".concat(t)).then((function(){return e(Object(O.h)(t))})).catch((function(t){return e(Object(O.f)(t.message))}))}}},C=n(28),_=function(t){return t.phoneBook.filter},v=function(t){return t.phoneBook.contacts},x={getFilter:_,getAllContacts:v,getLoading:function(t){return t.phoneBook.loading},getError:function(t){return t.phoneBook.error},getFilteredContactsList:Object(C.a)([v,_],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},F=n(2),y=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:"",message:null},t.setMessage=function(e){t.setState({message:e}),setTimeout((function(){t.setState({message:null})}),2500)},t.handleSubmit=function(e){var n=t.state,a=n.name,c=n.number;e.preventDefault(),""!==a?""!==c?t.props.contacts.find((function(t){return t.name.toLowerCase()===a.toLowerCase()}))?t.setMessage("Contact already exists!"):(t.props.onSubmit(a,c),t.setState({name:"",number:""})):t.setMessage("Enter contact phone, please!"):t.setMessage("Enter contact name, please!")},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(l.a)({},a,c))},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.message;return a&&alert(a),Object(F.jsx)("div",{className:f.a.container,children:Object(F.jsxs)("form",{className:f.a.form,onSubmit:this.handleSubmit,children:[Object(F.jsx)("label",{children:Object(F.jsx)("input",{className:f.a.input,type:"text",value:e,name:"name",placeholder:"Name",onChange:this.handleChange})}),Object(F.jsx)("label",{children:Object(F.jsx)("input",{className:f.a.input,type:"tel",value:n,name:"number",placeholder:"Phone",onChange:this.handleChange})}),Object(F.jsx)("button",{className:f.a.btn,type:"submit",children:"Add contact"})]})})}}]),n}(s.Component),L=Object(i.b)((function(t){return{contacts:x.getAllContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(g.addContact(e,n))}}}))(y),k=n(86),N=n.n(k),w=Object(i.b)((function(t){return{value:x.getFilter(t),contacts:x.getAllContacts(t)}}),(function(t){return{onChangeFilter:function(e){return t(O.d(e.target.value))}}}))((function(t){var e=t.value,n=t.onChangeFilter;t.contacts;return Object(F.jsx)("form",{className:N.a.form,children:Object(F.jsxs)("label",{children:[Object(F.jsx)("span",{className:N.a.title,children:"Search by name"}),Object(F.jsx)("input",{className:N.a.input,type:"text",value:e,onChange:n})]})})})),S=n(87),M=n.n(S),D=Object(i.b)((function(t){return{contacts:x.getFilteredContactsList(t)}}),(function(t){return{onDelete:function(e){return t(g.deleteContact(e))},clearFilter:function(){return t(Object(O.d)(""))}}}))((function(t){var e=t.contacts,n=t.onDelete,a=t.clearFilter;return Object(F.jsx)("ul",{className:M.a.list,children:e.map((function(t){var e=t.id,c=t.name,r=t.number;return Object(F.jsxs)("li",{className:M.a.contact,children:[Object(F.jsx)("span",{className:M.a.name,children:c}),Object(F.jsx)("span",{className:M.a.number,children:r}),Object(F.jsx)("button",{className:M.a.btn,onClick:function(){n(e,a())},"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442",children:"Delete"})]},e)}))})})),A=(n(88),function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(F.jsxs)(u.a,{children:[Object(F.jsx)(L,{}),Object(F.jsx)(w,{}),Object(F.jsx)(D,{})]})}}]),n}(s.Component));e.default=Object(i.b)((function(t){return{contacts:x.getAllContacts(t),isLoadingContacts:x.getLoading(t),error:x.getError(t)}}),(function(t){return{fetchContacts:function(){return t(g.fetchContacts())}}}))(A)}}]);
//# sourceMappingURL=3.336dd716.chunk.js.map